{"version":3,"sources":["../../server/helpers/userAccount.js"],"names":["generateToken","token","shortid","generate","isExist","quickcredit","users","find","user","undefined","isEmailExist","email","index","findIndex","isVerified","userInfo","status"],"mappings":";;;;;;;AAAA;;AACA;;;;AACO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,MAAMC,KAAK,GAAGC,oBAAQC,QAAR,EAAd;;AACA,MAAMC,OAAO,GAAGC,qBAAYC,KAAZ,CAAkBC,IAAlB,CAAuB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACP,KAAL,KAAeA,KAAnB;AAAA,GAA3B,CAAhB;;AACA,MAAIG,OAAO,KAAKK,SAAhB,EAA2B;AACzBT,IAAAA,aAAa;AACd;;AACD,SAAOC,KAAP;AACD,CAPM;;;;AAQA,IAAMS,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AACrC,MAAMC,KAAK,GAAGP,qBAAYC,KAAZ,CAAkBO,SAAlB,CAA4B,UAAAL,IAAI;AAAA,WAAIA,IAAI,CAACG,KAAL,KAAeA,KAAnB;AAAA,GAAhC,CAAd,CADqC,CAErC;;;AACA,SAAOC,KAAK,KAAK,CAAC,CAAlB;AACD,CAJM;;;;AAKA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACb,KAAD,EAAW;AACnC,MAAMc,QAAQ,GAAGV,qBAAYC,KAAZ,CAAkBC,IAAlB,CAAuB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACP,KAAL,KAAeA,KAAnB;AAAA,GAA3B,CAAjB,CADmC,CAEnC;;;AACA,SAAOc,QAAQ,CAACC,MAAT,KAAoB,UAA3B;AACD,CAJM","sourcesContent":["import shortid from 'shortid';\r\nimport quickcredit from '../models/database';\r\nexport const generateToken = () => {\r\n  const token = shortid.generate();\r\n  const isExist = quickcredit.users.find(user => user.token === token);\r\n  if (isExist !== undefined) {\r\n    generateToken();\r\n  }\r\n  return token;\r\n};\r\nexport const isEmailExist = (email) => {\r\n  const index = quickcredit.users.findIndex(user => user.email === email);\r\n  // is a doesnot equivalent to undefined means doesnot exist,email exist otherwise does not exist account can be created\r\n  return index !== -1;\r\n};\r\nexport const isVerified = (token) => {\r\n  const userInfo = quickcredit.users.find(user => user.token === token);\r\n  // is a doesnot equivalent to undefined means doesnot exist,email exist otherwise does not exist account can be created\r\n  return userInfo.status === 'verified';\r\n};\r\n"],"file":"userAccount.js"}